(this["webpackJsonpmson-react"]=this["webpackJsonpmson-react"]||[]).push([[0],{373:function(e,t,n){e.exports=n(699)},525:function(e,t,n){},699:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"App",(function(){return Rn})),n.d(a,"Contacts",(function(){return Kn})),n.d(a,"ContactsLocalStorage",(function(){return $n})),n.d(a,"ContactsFirebase",(function(){return Xn})),n.d(a,"EditContact",(function(){return Jn})),n.d(a,"FieldsScreen",(function(){return Zn})),n.d(a,"Fields",(function(){return Yn})),n.d(a,"FormBuilder",(function(){return Qn})),n.d(a,"Grid",(function(){return ea})),n.d(a,"Home",(function(){return ta})),n.d(a,"Tasks",(function(){return na})),n.d(a,"TasksLocalStorage",(function(){return aa})),n.d(a,"TasksFirebase",(function(){return oa}));var o=n(50),l=n.n(o),r=n(81),i=n(0),c=n.n(i),s=n(26),u=n.n(s),p=n(8),d=n(7),m=n(10),h=n(9),f=n(127),b=n(49),v=n(24),g=n.n(v),y=n(760),C=n(766),E=n(754),k=n(75),O=n(345),F=n(743),j=n(328),S=n.n(j),w=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(t){e.props.onClick&&e.props.onClick(t)},e}return Object(d.a)(n,[{key:"toFontIconName",value:function(e){return S()(e)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.icon,a=n?this.toFontIconName(n):null;return c.a.createElement(F.a,{className:t,onClick:this.handleClick},a)}}]),n}(c.a.PureComponent),x=n(65),D=n(771),N=n(767),L=n(748),T=n(747),A=n(703),P=n(745),I=n(746),B=n(44),V=n.n(B),M=n(36),W=n.n(M),U=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).handleClick=function(e){e.items?a.setState({open:!a.state.open}):(a.props.onNavigate&&a.props.onNavigate(e),a.props.onDrawerToggle&&a.props.onDrawerToggle())},a.state={open:a.childSelected()},a}return Object(d.a)(n,[{key:"childSelected",value:function(){var e=this.props,t=e.item,n=e.path,a=!1;return V()(t.items,(function(e){if(n===e.path)return a=!0,!1})),a}},{key:"items",value:function(){var e=this,t=this.props,n=t.classes,a=t.item,o=t.path,l=[];return a.items.forEach((function(t,a){var r=o===t.path,i=[n.secondary];r&&i.push(n.selected),(!t.roles||W.a.client&&W.a.client.user.hasRole(t.roles))&&!0!==t.hidden&&l.push(c.a.createElement(A.a,{button:!0,className:n.nested,key:a,onClick:function(){return e.handleClick(t)}},c.a.createElement(P.a,{disableTypography:!0,primary:c.a.createElement(k.a,{variant:"body2",className:i.join(" ")},t.label)})))})),l}},{key:"render",value:function(){var e=this,t=this.props,n=t.item,a=t.classes,o=t.path,l=n.items?this.items():null,r=o===n.path,i=[a.primary];r&&i.push(a.selected);var s=null;return l&&(s=c.a.createElement(I.a,{in:this.state.open,timeout:"auto",unmountOnExit:!0},c.a.createElement(T.a,{disablePadding:!0},this.items()))),c.a.createElement("div",null,c.a.createElement(A.a,{button:!0,onClick:function(){return e.handleClick(n)}},c.a.createElement(P.a,{disableTypography:!0,primary:c.a.createElement(k.a,{variant:"subtitle1",className:i.join(" ")},n.label)}),l?this.state.open?c.a.createElement(w,{icon:"ExpandLess"}):c.a.createElement(w,{icon:"ExpandMore"}):null),s)}}]),n}(c.a.PureComponent),R=g()((function(e){return{nested:{paddingLeft:e.spacing(4)},primary:{color:e.palette.text.primary},secondary:{color:e.palette.text.secondary},selected:{fontWeight:"bold"}}}))(U),q=n(241),H=n.n(q),G=function(e,t){return function(n){return function(a){Object(m.a)(l,a);var o=Object(h.a)(l);function l(n){var a;return Object(p.a)(this,l),(a=o.call(this,n)).wasMounted=!1,a.getComponent=function(e){return e||(e=a.props),t?"string"===typeof t?e[t]:t:e.component},a.handleFieldChange=function(e,t){-1!==a.watchProps.indexOf(e)&&a.wasMounted&&a.setState(Object(b.a)({},e,t))},a.watchProps=H()(e,Object.keys(a.props)),a.hasComponent()&&(a.state=a.getComponent().get(a.watchProps)),a}return Object(d.a)(l,[{key:"hasComponent",value:function(){return!!this.getComponent()}}]),Object(d.a)(l,[{key:"componentDidUpdate",value:function(e){this.getComponent()!==this.getComponent(e)&&(this.removeListener(),this.addListener(),this.setInitialState())}},{key:"addListener",value:function(){this.hasComponent()&&this.getComponent().on("$change",this.handleFieldChange)}},{key:"removeListener",value:function(){this.hasComponent()&&this.getComponent().removeListener("$change",this.handleFieldChange)}},{key:"setInitialState",value:function(){if(this.hasComponent()){var e=this.getComponent().get(this.watchProps);this.setState(e)}}},{key:"componentDidMount",value:function(){this.wasMounted=!0,this.addListener(),this.setInitialState()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.wasMounted=!1}},{key:"render",value:function(){return c.a.createElement(n,Object.assign({},this.state,this.props))}}]),l}(c.a.PureComponent)}},z=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleDrawerToggle=function(){e.props.onDrawerToggle&&e.props.onDrawerToggle()},e.handleNavigate=function(t){e.props.onNavigate&&e.props.onNavigate(t)},e}return Object(d.a)(n,[{key:"items",value:function(){var e=this,t=this.props,n=t.component,a=t.path,o=n.get("items"),l=[];return o.forEach((function(t,n){(!t.roles||W.a.client&&W.a.client.user.hasRole(t.roles))&&!0!==t.hidden&&l.push(c.a.createElement(R,{item:t,key:n,onNavigate:e.handleNavigate,path:a,onDrawerToggle:e.handleDrawerToggle}))})),l}},{key:"render",value:function(){var e,t=this.props,n=t.classes,a=t.theme,o=t.mobileOpen,l=t.responsive;e=this.items();var r=c.a.createElement("div",null,c.a.createElement("div",{className:n.drawerHeader},c.a.createElement(k.a,{variant:"h4"},"Logo")),c.a.createElement(L.a,null),e),i=c.a.createElement(D.a,{variant:"temporary",anchor:"rtl"===a.direction?"right":"left",open:o,classes:{paper:n.drawerPaper},onClose:this.handleDrawerToggle,ModalProps:{keepMounted:!0}},r),s=c.a.createElement(D.a,{variant:"permanent",open:!0,classes:{paper:n.drawerPaper+(l?" ".concat(n.drawPaperResponsive):"")}},r);return l?c.a.createElement("div",null,c.a.createElement(N.a,{mdUp:!0},i),c.a.createElement(N.a,{smDown:!0,implementation:"css"},s)):i}}]),n}(c.a.PureComponent);z=g()((function(e){return{drawerHeader:Object(x.a)({},e.mixins.toolbar,{paddingLeft:e.spacing(3),paddingTop:e.spacing(1)}),drawerPaper:{width:250},drawPaperResponsive:Object(b.a)({},e.breakpoints.up("md"),{width:240,position:"fixed",height:"100vh"})}}),{withTheme:!0})(z);var K=z=G(["items"])(z),$=n(750),X=n(129),J=n.n(X),Z=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={autoFullWidth:!1},e.handleKeyUp=function(t){13===t.keyCode&&e.props.onSearch(e.props.searchString)},e.handleClearSearch=function(t){e.props.onSearch("")},e.handleFocus=function(){e.setState({autoFullWidth:!0})},e.handleBlur=function(){e.setState({autoFullWidth:!1})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=e.searchString,o=e.onChange,l=e.fullWidth,r=this.state.autoFullWidth,i=l||r;return c.a.createElement("div",{className:J()(n,i?t.grow:null)},c.a.createElement($.a,{InputProps:{disableUnderline:!0,classes:{input:t.textFieldInput}},value:a,onKeyUp:this.handleKeyUp,onChange:function(e){return o(e.target.value)},className:t.textField,onFocus:this.handleFocus,onBlur:this.handleBlur}),c.a.createElement("div",{className:t.iconContainer},c.a.createElement(w,{icon:"Search",className:t.searchIcon}),c.a.createElement(O.a,{color:"inherit","aria-label":"clear search",onClick:this.handleClearSearch,className:t.closeIcon},c.a.createElement(w,{icon:"Close"}))))}}]),n}(c.a.PureComponent),_=Z=g()((function(e){return{textField:{width:"100%"},textFieldInput:{borderRadius:3,backgroundColor:e.palette.primary[400],fontSize:e.typography.subtitle1.fontSize,padding:"10px 34px 10px 34px",marginTop:"2px",width:"calc(100%)",color:e.palette.common.white},iconContainer:{position:"relative",width:"100%",height:"0px"},searchIcon:{position:"absolute",top:"-31px",left:"6px"},closeIcon:{position:"absolute",top:"-43px",right:"-5px"},grow:{flexGrow:1}}}))(Z),Y=n(80),Q=n(99),ee=n(194),te=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(){e.props.onClick&&e.props.onClick()},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.type,a=e.disabled,o=e.label,l=e.icon,r=e.fullWidth,i=e.variant,s=!1!==e.marginTop?t.marginTop:null;return c.a.createElement(ee.a,{className:s,type:n,color:"primary",disabled:a,onClick:this.handleClick,fullWidth:r,variant:i},l?c.a.createElement(w,{className:t.leftIcon,icon:l}):null,o)}}]),n}(c.a.PureComponent),ne=g()((function(e){return{leftIcon:{marginRight:e.spacing(1)},marginTop:{marginTop:e.spacing(3)}}}))(te),ae=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(){"submit"!==e.props.type&&e.props.component.emitClick()},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.type,a=e.disabled,o=e.icon,l=e.fullWidth,r=e.variant;return c.a.createElement(ne,{type:n,label:t,disabled:a,onClick:this.handleClick,icon:o,fullWidth:l,variant:r})}}]),n}(c.a.PureComponent),oe=G(["label","type","disabled","icon","fullWidth","variant"])(ae),le=n(752),re=n(709),ie=n(713),ce=n(708),se=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.fullWidth,n=e.children,a=e.classes,o=e.marginBottom,l=t?a.fullWidth:"",r=!1===o?a.noMarginBottom:"";return c.a.createElement(ce.a,{fullWidth:t,className:"".concat(a.formControl," ").concat(l," ").concat(r)},n)}}]),n}(c.a.PureComponent),ue=g()((function(e){return{formControl:{margin:e.spacing(1)},fullWidth:{width:"calc(100% - ".concat(e.spacing(2),"px)")},noMarginBottom:{marginBottom:0}}}))(se),pe=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.help;return c.a.createElement(C.a,{disableTouchListener:!0,title:e},c.a.createElement(O.a,{"aria-label":"Help"},c.a.createElement(w,{icon:"HelpOutline"})))}}]),n}(c.a.PureComponent),de=n(710),me=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,a=e.shrink,o=Object.assign({},this.props,{shrink:void 0,classes:void 0}),l=a?n.shrink:n.noShrink;return c.a.createElement(de.a,Object.assign({},o,{className:l}),t)}}]),n}(c.a.PureComponent),he=g()((function(e){return{shrink:Object(x.a)({},Object.assign({},e.typography.caption,{color:void 0})),noShrink:Object(x.a)({},Object.assign({},e.typography.subtitle1,{color:void 0}))}}))(me),fe=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.component,a=t.children,o=t.label,l=t.required,r=t.fullWidth,i=t.err,s=t.editable,u=t.touched,p=t.help,d=t.hideLabelUI,m=t.hideLabel,h=t.useDisplayValue,f=t.shrinkLabel,b=t.inlineLabel,v=t.marginBottom,g=t.autoHideLabel,y=null,C=n.isBlank(),E=n.getUniqueId();if(!d&&!m&&(!g||o))if(!s||h||b){var k=o||"\xa0";y=c.a.createElement(he,{htmlFor:E,error:!(!u||!i),required:l&&!h&&s,shrink:h||!s||f},k),b||(y=c.a.createElement("div",null,y))}else y=c.a.createElement(re.a,{htmlFor:E,error:!(!u||!i),required:o&&l,shrink:f},o);var O=n.getFirstErr();return e=c.a.createElement("span",null,y,a,p&&s?c.a.createElement(pe,{help:p}):"",u&&i?c.a.createElement(ie.a,{error:!0},O):null),s||!C?c.a.createElement(ue,{fullWidth:r,marginBottom:v},e):null}}]),n}(c.a.PureComponent),be=fe=G(["label","required","fullWidth","value","err","editable","touched","help","hideLabel","useDisplayValue","autoHideLabel"])(fe),ve=n(751),ge=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes;return c.a.createElement(k.a,{variant:"subtitle1",component:"span",className:n.root},t)}}]),n}(c.a.PureComponent),ye=g()((function(e){return{root:{display:"inline-block"}}}))(ge),Ce=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleChange=function(t){e.props.component.setValue(t.target.checked)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.disabled,a=e.component,o=e.editable,l=e.useDisplayValue,r=e.label,i=null,s=null;return o&&!l?(i=!0,s=c.a.createElement(ve.a,{control:c.a.createElement(le.a,{checked:t||!1,onChange:this.handleChange,value:"true",disabled:n}),label:r})):s=c.a.createElement(ye,null,a.getDisplayValue()),c.a.createElement(be,{component:a,hideLabelUI:i},s)}}]),n}(c.a.PureComponent),Ee=G(["value","err","disabled","editable","useDisplayValue","label"])(Ce),ke=n(195),Oe=n(158),Fe=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.component,a=n.get("content"),o=n.get("title");return c.a.createElement(ke.a,{container:!0,spacing:0,justify:"center"},c.a.createElement(ke.a,{item:!0,xs:12,sm:9,md:6,lg:6},c.a.createElement(Oe.a,{className:t.paper},c.a.createElement(ke.a,{container:!0,wrap:"nowrap"},c.a.createElement(ke.a,{item:!0,className:t.content},c.a.createElement(k.a,{variant:"h5",component:"h2"},o),c.a.createElement(mn,{component:a}))))))}}]),n}(c.a.PureComponent),je=g()((function(e){return{paper:{margin:e.spacing(1),padding:e.spacing(2)},content:{flex:1}}}))(Fe),Se=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.content,n=e.classes;return c.a.createElement("div",{className:n.root},c.a.createElement(mn,{component:t}))}}]),n}(c.a.PureComponent);Se=g()((function(e){return{root:{marginLeft:e.spacing(1)}}}))(Se);var we=Se=G(["content"])(Se),xe=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.classes;return c.a.createElement("div",{className:e.break})}}]),n}(c.a.PureComponent),De=g()((function(e){return{break:{width:"100%"}}}))(xe),Ne=new(function(){function e(){Object(p.a)(this,e)}return Object(d.a)(e,[{key:"getIfDefined",value:function(e){var t={};return V()(e,(function(e,n){void 0!==e&&(t[n]=e)})),t}}]),e}()),Le=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.hidden,a=e.block,o=e.accessEditable,l=e.didCreate,r=e.noBlock,i=e.disabled;if(n||!l)return null;if("Field"===t.getClassName())return null;var s=un.getUIComponent(t);return c.a.createElement(c.a.Fragment,null,c.a.createElement(s,Object.assign({component:t,accessEditable:o,block:a},Ne.getIfDefined({disabled:i}))),!r&&a?c.a.createElement(De,null):null)}}]),n}(c.a.PureComponent),Te=G(["hidden","block","didCreate"])(Le),Ae=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.help,a=e.editable,o=e.useDisplayValue,l=e.block,r=e.disabled,i=[],s=!1,u=!0;return t.eachField((function(e,t,n){!u&&o&&e.isBlank()||(n&&e.get("block")&&(s=!0),i.push(c.a.createElement(Te,{component:e,key:t,noBlock:n,disabled:r}))),u&&(u=!1)})),n&&a&&i.push(c.a.createElement(pe,{help:n,key:"help"})),s&&!1!==l&&i.push(c.a.createElement(De,{key:"break"})),i}}]),n}(c.a.PureComponent),Pe=G(["change","help","editable","useDisplayValue"])(Ae),Ie=n(753),Be=n(755),Ve=n(33),Me=n(191),We=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleDateChange=function(t){e.props.component.setValue(t)},e.handleBlur=function(){e.props.component.setTouched(!0)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.classes,a=e.value,o=e.includeTime,l=e.editable,r=e.useDisplayValue,i=e.minDate,s=e.maxDate,u=e.fullWidth,p=e.disabled,d=!1===e.accessEditable||p,m=!1,h=o?Ie.a:Be.a,f=null;return l&&!r?(m=!!a,f=c.a.createElement(Ve.a,{utils:Me.a},c.a.createElement("span",null,c.a.createElement(h,{value:a||null,onChange:this.handleDateChange,clearable:!0,className:n.root,minDate:i,maxDate:s,onClose:this.handleBlur,fullWidth:u,disabled:d})))):f=c.a.createElement(ye,null,t.getDisplayValue()),c.a.createElement(be,{component:t,shrinkLabel:m},f)}}]),n}(c.a.PureComponent);We=g()((function(e){return{root:{marginTop:e.spacing(2)}}}))(We);var Ue=G(["value","includeTime","editable","useDisplayValue","minDate","maxDate","fullWidth","disabled"])(We),Re=n(72),qe=n.n(Re),He=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;if(Object(p.a)(this,n),(a=t.call(this,e)).state={fieldsCanAccess:null},a.handleSave=function(e){e.preventDefault();var t=a.props.component;t.get("disableSubmit")||(t.setTouched(!0),t.validate(),0===t.getErrs().length&&t.submit())},a.turnOnAutoValidate(),e.access){var o=a.calcFieldsCanAccess();a.state.fieldsCanAccess=o}return a}return Object(d.a)(n,[{key:"turnOnAutoValidate",value:function(){this.props.component.set({autoValidate:!0})}},{key:"calcFieldsCanAccess",value:function(){var e,t=this.props,n=t.component,a=t.mode,o=qe.a.fieldsCanAccess(a||"update",n,null,!0),l=Object(f.a)(n.getFields());try{for(l.s();!(e=l.n()).done;){var r=e.value,i=void 0===o[r.get("name")];r.set({ignoreErrs:i})}}catch(c){l.e(c)}finally{l.f()}return o}},{key:"adjustAccess",value:function(){var e=null;this.props.component.get("access")&&(e=this.calcFieldsCanAccess()),this.setState({fieldsCanAccess:e})}}]),Object(d.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=n.component,o=n.access,l=n.mode;e.component!==a&&this.turnOnAutoValidate(),e.access===o&&e.mode===l&&e.component===a&&e.value===this.props.value||this.adjustAccess()}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.formTag,a=e.isLoading,o=e.disabled,l=this.state.fieldsCanAccess,r=t.get("fields");if(a)return null;var i=t.getKey(),s=r.map((function(e,t){if(null===l||void 0!==l[e.get("name")]){var n=null;return null!==l&&"read"===l[e.get("name")]&&(n=!1),c.a.createElement(Te,{key:i+"_"+t,component:e,accessEditable:n,disabled:o})}return null}));return!1!==n?c.a.createElement("form",{onSubmit:this.handleSave},s):s}}]),n}(c.a.PureComponent),Ge=G(["access","mode","isLoading","change","value"])(He),ze=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.hideLabel,a=e.classes,o=e.disabled,l=t.isBlank(),r=t.get("form");return c.a.createElement("span",null,!n&&c.a.createElement(be,{component:t,inlineLabel:"true",shrinkLabel:!l,marginBottom:!1}),c.a.createElement(De,null),c.a.createElement("span",{className:a.root},c.a.createElement(mn,{component:r,formTag:!1,disabled:o})))}}]),n}(c.a.PureComponent);ze=g()((function(e){return{root:{marginLeft:e.spacing(2),display:"flex",flexFlow:"wrap"}}}))(ze);var Ke=G(["hideLabel","value"])(ze),$e=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.hidden,n=e.content,a=e.xl,o=e.lg,l=e.md,r=e.sm,i=e.xs;return t?null:c.a.createElement(ke.a,{item:!0,xl:a,lg:o,md:l,sm:r,xs:i},c.a.createElement(mn,{component:n}))}}]),n}(c.a.PureComponent),Xe=G(["hidden","content","xl","lg","md","sm","xs"])($e),Je=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return c.a.createElement(ke.a,{container:!0},this.props.items.map((function(e,t){return c.a.createElement(Xe,{component:e,key:t})})))}}]),n}(c.a.PureComponent),Ze=G(["items"])(Je),_e=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.forbidUpdate,n=e.forbidDelete,a=e.editable,o=e.disabled,l=e.archivedAt,r=e.onEdit,i=e.onDelete,s=null;t||(s=c.a.createElement(O.a,{onClick:r},c.a.createElement(w,{icon:"Edit"})));var u=null;return n||(u=c.a.createElement(O.a,{onClick:i},c.a.createElement(w,{icon:l?"Restore":"Delete"}))),!a||o||t&&n?null:c.a.createElement(ke.a,{item:!0},s,u)}}]),n}(c.a.PureComponent),Ye=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(t){e.props.onClick&&e.props.onClick(t,e.props.component)},e.handleEdit=function(t,n){e.props.onEdit&&e.props.onEdit(t,e.props.component)},e.handleDelete=function(t){e.props.onDelete&&e.props.onDelete(e.props.component)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.component,o=t.forbidUpdate,l=t.forbidDelete,r=t.editable,i=t.disabled,s=t.value;return c.a.createElement("div",null,c.a.createElement(Oe.a,{className:n.paper},c.a.createElement(ke.a,{container:!0,wrap:"nowrap"},c.a.createElement(ke.a,{item:!0,className:n.content,onClick:function(t){return e.handleClick(t)}},c.a.createElement(mn,{component:a,formTag:!1,mode:"read"})),c.a.createElement(_e,{forbidUpdate:o,forbidDelete:l,editable:r,disabled:i,archivedAt:s.archivedAt,onEdit:function(t){return e.handleEdit(t)},onDelete:function(t){return e.handleDelete(t)}}))))}}]),n}(c.a.PureComponent);Ye=g()((function(e){return{paper:{margin:e.spacing(1),padding:e.spacing(2)},content:{flex:1,cursor:"pointer"}}}))(Ye);var Qe=G(["value"])(Ye),et=n(714),tt=n(716),nt=n(756),at=n(715),ot=n(56),lt=n.n(ot),rt=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={saveClicked:!1,previousMode:null},e.handleClose=function(t){var n=e.props,a=n.mode,o=n.onClose,l=n.onCancel,r=n.currentForm;(t||"update"!==a)&&("update"===a?l&&l(r):o&&o(r))},e.handleEdit=function(){e.props.onEdit&&e.props.onEdit(e.props.currentForm)},e.handleSave=function(t){t.preventDefault(),e.props.disableSubmit||(e.props.onSave&&e.props.onSave(),e.setState({saveClicked:!0}))},e.handleDelete=function(){e.props.onDelete&&e.props.onDelete(e.props.currentForm)},e}return Object(d.a)(n,[{key:"isOpen",value:function(){var e=this.props.mode;return e!==lt.a.MODES.DELETE&&!!e}},{key:"componentDidUpdate",value:function(e){this.props.mode===e.mode&&this.props.err===e.err||this.setState({saveClicked:!1}),this.props.mode!==e.mode&&this.setState({previousMode:e.mode})}},{key:"render",value:function(){var e=this,t=this.props,n=t.mode,a=t.component,o=t.forbidUpdate,l=t.forbidDelete,r=t.value,i=t.fullScreen,s=this.state,u=s.saveClicked,p=s.previousMode,d=a.hasErrorForTouchedField()||!a.get("dirty")||u,m=this.isOpen(),h=null;return"update"===n||"create"===n||null===n&&("update"===p||"create"===p)?h=c.a.createElement("div",null,c.a.createElement(ne,{type:"submit",label:"Save",icon:"Save",disabled:d}),c.a.createElement(ne,{label:"Cancel",icon:"Cancel",onClick:function(){return e.handleClose(!0)}})):o&&l||(h=c.a.createElement("div",null,o?"":c.a.createElement(ne,{label:"Edit",icon:"Edit",onClick:this.handleEdit}),l?"":c.a.createElement(ne,{label:r.archivedAt?"Restore":"Delete",icon:r.archivedAt?"Restore":"Delete",onClick:this.handleDelete}),c.a.createElement(ne,{label:"Close",icon:"Cancel",onClick:function(){return e.handleClose(!0)}}))),c.a.createElement(et.a,{fullScreen:i,open:m,onClose:function(){return e.handleClose(!1)},"aria-labelledby":"form-dialog-title"},c.a.createElement("form",{onSubmit:this.handleSave},c.a.createElement(at.a,null,c.a.createElement(mn,{component:a,formTag:!1,mode:n})),h?c.a.createElement(tt.a,null,h):""))}}]),n}(c.a.PureComponent);rt=Object(nt.a)()(rt);var it=rt=G(["err","dirty","value","mode","disableSubmit"])(rt),ct=n(758),st=n(757),ut=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleClose=function(t){e.props.onClose&&e.props.onClose(t)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.text,o=t.open,l=t.alert;return c.a.createElement("div",null,c.a.createElement(et.a,{open:o,onClose:function(){return e.handleClose(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(st.a,{id:"alert-dialog-title"},n),c.a.createElement(at.a,null,c.a.createElement(ct.a,{id:"alert-dialog-description"},a)),c.a.createElement(tt.a,null,l?null:c.a.createElement(ee.a,{onClick:function(){return e.handleClose(!1)},color:"primary"},"No"),c.a.createElement(ee.a,{onClick:function(){return e.handleClose(!0)},color:"primary",autoFocus:!0},l?"OK":"Yes"))))}}]),n}(c.a.PureComponent),pt=(n(525),n(759)),dt=n(718),mt=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleClick=function(){var t="ASC"===e.props.sortOrder?"DESC":"ASC";e.props.onChange({sortOrder:t})},e.handleChange=function(t){e.props.onChange({sortBy:t.target.value})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.sortBy,a="DESC"!==e.sortOrder,o=e.options.map((function(e){return c.a.createElement(pt.a,{value:e.value,key:e.value},e.label)}));return c.a.createElement("div",null,c.a.createElement(ce.a,{className:t.formControl},c.a.createElement(dt.a,{value:n,onChange:this.handleChange},c.a.createElement(pt.a,{value:""},c.a.createElement("em",null,"None")),o)),c.a.createElement(O.a,{color:"primary","aria-label":"sort order",onClick:this.handleClick},c.a.createElement(w,{icon:"Sort",className:a?t.flip:null})))}}]),n}(c.a.PureComponent),ht=g()((function(e){return{formControl:{},flip:{transform:"scaleY(-1)"}}}))(mt),ft=n(154),bt=n.n(ft),vt=n(192),gt=function(e,t,n){return Object(x.a)({userSelect:"none",padding:n.spacing(.125),margin:"0 0 ".concat(n.spacing(.125),"px 0"),background:e?n.palette.secondary[400]:void 0},t)},yt=function(e,t){return{background:e?t.palette.grey[300]:void 0,width:"100%"}},Ct=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={confirmationOpen:!1,sortBy:"",sortOrder:"ASC"},e.handleClose=function(){e.props.component.set({mode:null})},e.handleCancel=function(t){var n=e.props,a=n.component,o=n.preventReadAction;a.get("skipRead")||o?a.set({mode:null}):a.set({currentForm:t,mode:lt.a.MODES.READ})},e.handleClick=function(t){var n=e.props.component;n.get("skipRead")?n.set({currentForm:t,mode:lt.a.MODES.UPDATE}):n.set({currentForm:t,mode:lt.a.MODES.READ})},e.handleEdit=function(t){e.props.component.set({currentForm:t,mode:lt.a.MODES.UPDATE})},e.handleNew=function(){e.props.component.set({currentForm:null,mode:lt.a.MODES.CREATE})},e.handleSave=Object(r.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.component.save();case 2:case"end":return t.stop()}}),t)}))),e.handleDelete=function(){var t=Object(r.a)(l.a.mark((function t(n){var a,o,r,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props,o=a.component,r=a.preventDeleteAction,i=e.isOpen(),n?o.set({currentForm:n,mode:lt.a.MODES.DELETE}):n=o.get("form"),!n.getValue("archivedAt")){t.next=10;break}return t.next=7,o.restore(n);case 7:i&&o.set({mode:null}),t.next=12;break;case 10:r||e.setState({confirmationOpen:!0,confirmationTitle:"Delete this?"}),o.set({mode:null});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleConfirmationClose=function(){var t=Object(r.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}return a=e.props.component,t.next=4,a.archive(a.get("form"));case 4:e.setState({confirmationOpen:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleOrdering=function(t){e.setState(t,(function(){e.props.component.set({order:e.state.sortBy?[[e.state.sortBy,e.state.sortOrder]]:null})}))},e.onDragEnd=function(t){t.destination&&t.destination.index!==t.source.index&&e.props.component.moveAndSaveForm({sourceIndex:t.source.index,destinationIndex:t.destination.index})},e}return Object(d.a)(n,[{key:"isOpen",value:function(){return!!this.props.mode}},{key:"canCreate",value:function(){return qe.a.canCreate(this.props.component.get("form"))}},{key:"canUpdate",value:function(){return qe.a.canUpdate(this.props.component.get("form"))}},{key:"canArchive",value:function(){return qe.a.canArchive(this.props.component.get("form"))}},{key:"componentDidUpdate",value:function(e){this.props.bufferTopId!==e.bufferTopId&&this.props.component._infiniteLoader.resizeSpacer(this.props.bufferTopId),this.props.spacerHeight!==e.spacerHeight&&this.props.component._infiniteLoader.setSpacerResizing(!1),this.props.change!==e.change&&this.props.component.set({isLoading:!1})}},{key:"canDrag",value:function(){var e=this.props,t=e.forbidOrder,n=e.showArchived,a=e.searchString,o=e.order;return!t&&!n&&!a&&!o}},{key:"cards",value:function(e,t){var n,a=this,o=this.props,l=o.component,r=o.forbidUpdate,i=o.forbidDelete,s=o.forbidOrder,u=o.editable,p=o.disabled,d=o.useDisplayValue,m=o.theme,h=12/(!1===s?1:this.props.maxColumns),b=[],v=0,g=Object(f.a)(l.getForms());try{var y=function(){var o=n.value;o.setEditable(!1);var s=o.getUniqueId(),f=l.getUniqueItemId(o.getValue("id")),g=c.a.createElement(ke.a,{item:!0,xs:12,sm:h,lg:h,key:s,id:f},c.a.createElement(Qe,{onClick:function(){return a.handleClick(o)},onEdit:function(){return a.handleEdit(o)},onDelete:a.handleDelete,component:o,forbidUpdate:r||!e||d,forbidDelete:i||!t||d,editable:u,disabled:p}));a.canDrag()?b.push(c.a.createElement(vt.b,{key:f,draggableId:f,index:v++},(function(e,t){return c.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{style:gt(t.isDragging,e.draggableProps.style,m)}),g)}))):b.push(g)};for(g.s();!(n=g.n()).done;)y()}catch(C){g.e(C)}finally{g.f()}return b}},{key:"sortOptions",value:function(){var e=this.props.component;if(e&&e.get("form")){var t=e.get("form"),n=qe.a.fieldsCanAccess("read",t),a=[];return t.eachField((function(e){var o=e.get("name");void 0===n[o]||e.get("forbidSort")||e.get("hidden")||e instanceof bt.a||a.push({value:(t.isDefaultField(o)?"":"fieldValues.")+o,label:e.get("label")})})),a}}},{key:"header",value:function(e){var t=this.props,n=t.forbidCreate,a=t.editable,o=t.disabled,l=t.component,r=t.forbidSort,i=t.store,s=t.useDisplayValue,u=this.state,p=u.sortBy,d=u.sortOrder,m=l.getSingularLabel(),h=l.reachedMax(),f=this.canCreate(),b=a&&!o&&!s&&!n&&!h&&f,v=!r,g=this.sortOptions(),y=e>0&&!!i;return c.a.createElement(ke.a,{container:!0,spacing:0},c.a.createElement(ke.a,{item:!0,xs:12,sm:6,lg:6},b?c.a.createElement(ne,{"aria-label":"new",onClick:this.handleNew,icon:"Add",label:"New "+m,marginTop:!1}):null),c.a.createElement(ke.a,{item:!0,xs:12,sm:6,lg:6,align:"right"},y&&v?c.a.createElement(ht,{onChange:this.handleOrdering,sortBy:p,sortOrder:d,options:g}):null))}},{key:"field",value:function(){var e=this.props,t=e.forbidUpdate,n=e.forbidDelete,a=e.component,o=e.spacerHeight,l=e.classes,r=e.isLoading,i=e.form,s=e.currentForm,u=e.noResults,p=e.disabled,d=e.accessEditable,m=e.useDisplayValue,h=e.theme,f=e.preventUpdate,b=e.preventDeleteAction,v=!1===d||p,g=this.state,y=g.confirmationOpen,C=g.confirmationTitle,E=a.get("label").toLowerCase(),O=this.canUpdate(),F=this.canArchive(),j={height:o},S=a.get("spacerId"),x=this.cards(O,F),D=x;this.canDrag()&&(D=c.a.createElement(vt.a,{onDragEnd:this.onDragEnd},c.a.createElement(vt.c,{droppableId:"droppable"},(function(e,t){return c.a.createElement("div",{ref:e.innerRef,style:yt(t.isDraggingOver,h)},x,e.placeholder)}))));var N=a.get("searchString")&&u,L=this.header(x.length);return c.a.createElement("div",null,L,N?c.a.createElement(k.a,{variant:"h4"},c.a.createElement(w,{icon:"Info"})," No ",E," found"):null,c.a.createElement("div",{id:S,className:l.spacer,style:j}),c.a.createElement(ke.a,{container:!0,spacing:0},D),r?c.a.createElement("div",{className:l.footer}):null,c.a.createElement(it,{component:i,currentForm:s,onClose:this.handleClose,onCancel:this.handleCancel,onSave:this.handleSave,onEdit:this.handleEdit,onDelete:this.handleDelete,forbidUpdate:t||!O||v||m||f,forbidDelete:n||!F||v||m||b}),c.a.createElement(ut,{open:y,onClose:this.handleConfirmationClose,title:C}))}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.hideLabel,a=e.classes,o=t.isBlank();return c.a.createElement("span",{className:a.root},!n&&c.a.createElement(be,{component:t,inlineLabel:"true",shrinkLabel:!o}),this.field())}}]),n}(c.a.PureComponent);Ct=g()((function(e){return{root:{width:"100%"},spacer:{backgroundColor:e.palette.grey[300],marginLeft:e.spacing(1),marginRight:e.spacing(1),animation:"fadeIn 1s infinite alternate"},footer:{height:50,backgroundColor:e.palette.grey[300],margin:e.spacing(1),animation:"fadeIn 1s infinite alternate"}}}),{withTheme:!0})(Ct);var Et=Ct=G(["change","label","singularLabel","forbidCreate","forbidUpdate","forbidDelete","forbidSort","forbidOrder","editable","disabled","spacerHeight","bufferTopId","isLoading","form","currentForm","mode","noResults","store","maxColumns","useDisplayValue","hideLabel","showArchived","searchString","order","preventReadAction","preventUpdate","preventDeleteAction"])(Ct),kt=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleDelete=function(){e.props.component.emit("delete")},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.allowDelete,a=e.help,o=e.disabled,l=e.editable;if(t){var r=t.get("block");return c.a.createElement("span",null,c.a.createElement(Te,{component:t,block:!1,disabled:o}),n&&!o&&l?c.a.createElement(O.a,{"aria-label":"Delete",onClick:this.handleDelete},c.a.createElement(w,{icon:"DeleteIcon"})):null,a&&l?c.a.createElement(pe,{help:a}):"",r?c.a.createElement(De,null):null)}return null}}]),n}(c.a.PureComponent),Ot=G(["value","disabled","editable"])(kt),Ft=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleNew=function(){e.props.component.createField(),e.props.component.set({touched:!1})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.allowDelete,a=e.useDisplayValue,o=e.autoCreateFields,l=e.hideLabel,r=e.editable,i=e.canDeleteEmpty,s=e.accessEditable,u=e.disabled,p=e.hideDeleteButton,d=t.getSingularLabel(),m=!1===s||u,h=[],f=!0,b=t.isBlank();return t.eachField((function(e,t){var o=e.isBlank();!f&&a&&o||h.push(c.a.createElement(Ot,{component:e,key:t,allowDelete:n&&!a&&(i||!o)&&!p,disabled:u})),f&&(f=!1)})),o||a||!r||m||h.push(c.a.createElement(ne,{key:"button","aria-label":"add",onClick:this.handleNew,icon:"Add",label:"Add "+(d||""),marginTop:!1})),c.a.createElement("span",null,!l&&c.a.createElement(be,{component:t,inlineLabel:"true",marginBottom:!1,shrinkLabel:!b}),c.a.createElement("div",null,h))}}]),n}(c.a.PureComponent),jt=G(["change","help","allowDelete","useDisplayValue","autoCreateFields","hideLabel","value","editable","canDeleteEmpty","disabled","hideDeleteButton","singularLabel","label"])(Ft),St=n(341),wt=n(31),xt=n.n(wt),Dt=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleChange=function(t){e.props.component.setValue(t)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.editable,a=e.accessEditable,o=e.classes,l=e.useDisplayValue,r=!1!==a&&n&&!t,i=xt.a.get("reCAPTCHASiteKey");return r&&!l?c.a.createElement("div",{className:o.captcha},c.a.createElement(St.a,{ref:"recaptcha",sitekey:i,onChange:this.handleChange})):null}}]),n}(c.a.PureComponent);Dt=g()((function(e){return{captcha:{margin:e.spacing(1)}}}))(Dt);var Nt=G(["disabled","editable","useDisplayValue"])(Dt),Lt=n(765),Tt=n(706),At=n(769),Pt=n(340),It=n(5),Bt=n(240);function Vt(e){var t=e.inputRef,n=Object(Q.a)(e,["inputRef"]);return c.a.createElement("div",Object.assign({ref:t},n))}var Mt={Control:function(e){var t={};return e.selectProps.fullWidth&&(t.fullWidth=!0),c.a.createElement($.a,Object.assign({},t,{InputProps:{inputComponent:Vt,inputProps:Object(x.a)({className:e.selectProps.classes.input,inputRef:e.innerRef,children:e.children},e.innerProps)}},e.selectProps.textFieldProps))},Menu:function(e){return c.a.createElement(Oe.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){var t;return c.a.createElement(At.a,{tabIndex:-1,label:e.children,className:J()(e.selectProps.classes.chip,(t={},Object(b.a)(t,e.selectProps.classes.chipFocused,e.isFocused),Object(b.a)(t,e.selectProps.classes.disabled,e.selectProps.isDisabled),t)),onDelete:e.removeProps.onClick,deleteIcon:c.a.createElement(w,{icon:"Cancel"})})},NoOptionsMessage:function(e){return c.a.createElement(k.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return c.a.createElement(pt.a,Object.assign({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},SingleValue:function(e){return c.a.createElement(k.a,Object.assign({className:J()(e.selectProps.classes.singleValue,e.selectProps.isDisabled?e.selectProps.classes.disabled:null)},e.innerProps),e.children)},ValueContainer:function(e){return c.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}},Wt=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.options,a=e.isClearable,o=e.placeholder,l=e.onChange,r=e.onBlur,i=e.onFocus,s=e.onInputChange,u=e.value,p=e.isDisabled,d=e.fullWidth,m=e.isMulti,h={dropdownIndicator:function(e){return Object(x.a)({},e,{cursor:"pointer"})},clearIndicator:function(e){return Object(x.a)({},e,{cursor:"pointer"})},menuPortal:function(e){return Object(x.a)({},e,{zIndex:2e3})}};return c.a.createElement(Pt.a,{className:J()(t.root,d&&t.fullWidth),classes:t,styles:h,options:n,components:Mt,value:u,onChange:l,onBlur:r,onFocus:i,onInputChange:s,placeholder:o,isClearable:a,isDisabled:p,fullWidth:d,isMulti:m,menuPortalTarget:document.body})}}]),n}(c.a.Component),Ut=Object(It.a)((function(e){return{input:{display:"flex",padding:0,minWidth:240,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",marginTop:e.spacing(2)+5},chip:{margin:"".concat(e.spacing(1),"px ").concat(e.spacing(.25),"px")},chipFocused:{backgroundColor:Object(Bt.emphasize)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:"".concat(e.spacing(1),"px ").concat(e.spacing(2),"px")},singleValue:{fontSize:e.typography.subtitle1.fontSize},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1)},root:{display:"inline-flex"},fullWidth:{width:"100%"},disabled:{color:e.palette.text.secondary}}}))(Wt),Rt=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={focus:!1},e}return Object(d.a)(n,[{key:"handleChange",value:function(e){this.props.component.setValue(e)}},{key:"handleAutocompleteChange",value:function(e){this.props.multiple?this.handleChange(e.map((function(e){return e.value}))):this.handleChange(e&&(e.value?e.value:null))}},{key:"handleFocus",value:function(){this.setState({focus:!0})}},{key:"handleBlur",value:function(){this.setState({focus:!1}),this.props.component.setTouched(!0)}},{key:"renderOptions",value:function(){var e=this.props,t=e.options,n=e.blankString,a=e.value,o=e.multiple;if(t){var l=[];return!o&&n&&l.push(c.a.createElement(pt.a,{value:"",key:""},c.a.createElement("em",null,n))),t.forEach((function(e){if(o){var t=!!a&&-1!==a.indexOf(e.value);l.push(c.a.createElement(pt.a,{value:e.value,key:e.value},c.a.createElement(Lt.a,{checked:t}),c.a.createElement(P.a,{primary:e.label})))}else l.push(c.a.createElement(pt.a,{value:e.value,key:e.value},e.label))})),l}}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.err,o=t.touched,l=t.disabled,r=t.component,i=t.fullWidth,s=t.classes,u=t.editable,p=t.multiple,d=t.accessEditable,m=t.useDisplayValue,h=t.options,f=t.autocomplete,b=this.state.focus,v=!1===d||l,g=p?[]:"";n&&(g=n);var y=void 0,C=void 0;p&&(y=c.a.createElement(Tt.a,null),C=function(e){return c.a.createElement("div",{className:s.chips},e.map((function(e){return c.a.createElement(At.a,{key:e,label:r.getOptionLabel(e),className:s.chip})})))});var E={},k=null;if(u&&!m)if(f){var O=null;O=p?g.map((function(e){return{value:e,label:r.getOptionLabel(e)}})):{value:g,label:r.getOptionLabel(g)},!b&&r.isValueBlank(g)||(E.shrinkLabel=!0),k=c.a.createElement(Ut,{options:h,isClearable:!0,placeholder:"",onChange:function(t){return e.handleAutocompleteChange(t)},onBlur:function(){return e.handleBlur()},onFocus:function(){return e.handleFocus()},value:O,isDisabled:v,fullWidth:i,isMulti:p})}else k=c.a.createElement(dt.a,{multiple:p,error:!(!o||!a),onChange:function(t){return e.handleChange(t.target.value)},onBlur:function(){return e.handleBlur()},input:y,renderValue:C,value:g,disabled:v,fullWidth:i,className:s.formControl},this.renderOptions());else{var F=null;F=p&&n?n.map((function(e){return c.a.createElement(At.a,{key:e,label:r.getOptionLabel(e),className:s.chip})})):r.getDisplayValue(),k=c.a.createElement(ye,null,F)}return c.a.createElement(be,Object.assign({component:r},E),k)}}]),n}(c.a.PureComponent);Rt=g()((function(e){return{formControl:{minWidth:120},chip:{margin:e.spacing(.25)}}}))(Rt);var qt=G(["value","err","options","touched","blankString","disabled","fullWidth","editable","multiple","useDisplayValue","autocomplete"])(Rt),Ht=n(717),Gt=n(346),zt=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleChange=function(t,n){var a=e.props,o=a.component,l=a.items;o.set({value:n});var r=l[n].name;o.emitChange(r)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.value;return c.a.createElement(y.a,{position:"static",color:"default",elevation:1},c.a.createElement(Ht.a,{value:n,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",scrollButtons:"auto",variant:"fullWidth"},t.map((function(e,t){return c.a.createElement(Gt.a,{label:e.label,icon:c.a.createElement(w,{icon:e.icon}),key:t})}))))}}]),n}(c.a.Component),Kt=zt=G(["items","value"])(zt),$t=n(761),Xt=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleDateChange=function(t){e.props.component.setValue(t)},e.handleBlur=function(){e.props.component.setTouched(!0)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.classes,a=e.value,o=e.editable,l=e.useDisplayValue,r=e.showSeconds,i=e.fullWidth,s=e.disabled,u=!1===e.accessEditable||s,p=!1,d=null;return o&&!l?(p=!!a,d=c.a.createElement(Ve.a,{utils:Me.a},c.a.createElement("span",null,c.a.createElement($t.a,{value:a||null,onChange:this.handleDateChange,clearable:!0,className:n.root,seconds:r,onClose:this.handleBlur,fullWidth:i,disabled:u,invalidDateMessage:""})))):d=c.a.createElement(ye,null,t.getDisplayValue()),c.a.createElement(be,{component:t,shrinkLabel:p},d)}}]),n}(c.a.PureComponent);Xt=g()((function(e){return{root:{marginTop:e.spacing(2)}}}))(Xt);var Jt=G(["value","editable","useDisplayValue","showSeconds","fullWidth","disabled"])(Xt),Zt=n(333),_t=n.n(Zt),Yt=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.text;return c.a.createElement(k.a,{component:"div"},c.a.createElement(_t.a,{source:e}))}}]),n}(c.a.PureComponent),Qt=Yt=G(["text"])(Yt),en=n(334),tn=n.n(en),nn=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=a.props.component,n=t.fromUIValue(e.target.value);t.setValue(n)},a.handleBlur=function(){a.props.component.setTouched(!0)},a.handleKeyUp=function(e){13===e.keyCode&&a.props.component.setTouched(!0)},a.TextMaskCustom=function(e){var t=e.inputRef,n=Object(Q.a)(e,["inputRef"]),o=a.props.mask;return c.a.createElement(tn.a,Object.assign({},n,{ref:function(e){t(e?e.inputElement:null)},mask:o}))},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.err,n=e.maxLength,a=e.touched,o=e.disabled,l=e.component,r=e.fullWidth,i=e.type,s=e.editable,u=e.accessEditable,p=e.multiline,d=e.rows,m=e.rowsMax,h=e.useDisplayValue,f=e.mask,b=e.displayValue,v=!1===u||o,g=null;if(s&&!h){var y={};f&&(y.inputComponent=this.TextMaskCustom);var C=l.getUIValue();g=c.a.createElement(Tt.a,Object.assign({id:l.getUniqueId(),error:!(!a||!t),inputProps:{maxLength:n},onChange:this.handleChange,onBlur:this.handleBlur,onKeyUp:this.handleKeyUp,value:C||"",disabled:v,fullWidth:r,type:i,multiline:p,rows:d,rowsMax:m},y))}else g=c.a.createElement(ye,null,b||l.getDisplayValue());return c.a.createElement(be,{component:l},g)}}]),n}(c.a.PureComponent),an=G(["value","err","maxLength","touched","disabled","fullWidth","type","editable","multiline","rows","rowsMax","useDisplayValue","mask","unmask"])(nn),on=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.value,a=e.editable,o=e.useDisplayValue,l=e.newWindow,r=null;if((!a||o)&&n){var i=n;0!==i.indexOf("http")&&(i="http://"+i),r=c.a.createElement("a",{href:i,target:l?"_blank":"_self"},n)}return c.a.createElement(an,{component:t,displayValue:r})}}]),n}(c.a.PureComponent),ln=G(["value","editable","useDisplayValue","newWindow"])(on),rn={ButtonField:oe,BooleanField:Ee,Card:je,ChainedSelectField:Pe,ChainedSelectListField:jt,ComponentField:we,CompositeField:Pe,DateField:Ue,Field:Te,Form:Ge,FormField:Ke,Grid:Ze,GridItem:Xe,CollectionField:Et,IdField:an,IntegerField:an,ListField:jt,MoneyField:an,NumberField:an,PhoneField:an,ReCAPTCHAField:Nt,SelectField:qt,SelectListField:jt,Tabs:Kt,TimeField:Jt,Text:Qt,TextField:an,TextListField:jt,URLField:ln,User:Ge},cn=n(40),sn=n.n(cn),un=new(function(){function e(){Object(p.a)(this,e)}return Object(d.a)(e,[{key:"getUIComponent",value:function(e){var t=e.getClassName(),n=rn[t];if(void 0!==n)return n;if(sn.a.isCompiled(sn.a.getComponent(t))){var a=Object.getPrototypeOf(e.constructor);return this.getUIComponent(new a)}var o=sn.a.getOldestCompiledAncestor(t),l=sn.a.getComponent(o);return this.getUIComponent(new l)}}]),e}()),pn=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleChange=function(t,n){var a=e.props,o=a.on,l=a.component;o&&o({name:t,value:n,component:l});var r="on"+t.charAt(0).toUpperCase()+t.slice(1);e.props[r]&&e.props[r]({value:n,component:l})},e}return Object(d.a)(n,[{key:"addChangeListener",value:function(){this.props.component.on("$change",this.handleChange),this.props.component.emitChange("mount")}},{key:"removeChangeListener",value:function(){this.props.component.removeListener("$change",this.handleChange)}},{key:"componentDidMount",value:function(){this.props.component&&this.addChangeListener()}},{key:"componentWillUnmount",value:function(){this.props.component.emitChange("unmount"),this.removeChangeListener()}},{key:"componentDidUpdate",value:function(e){this.props.component!==e.component&&(this.removeChangeListener(),this.addChangeListener())}},{key:"render",value:function(){var e=this.props,t=e.component,n=Object(Q.a)(e,["component"]);if(t){var a=un.getUIComponent(t);return c.a.createElement(a,Object.assign({component:t},n))}return null}}]),n}(c.a.PureComponent),dn=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={component:null},e}return Object(d.a)(n,[{key:"createComponent",value:function(){var e=this.props.definition;this.setState({component:sn.a.newComponent(e)})}},{key:"componentDidMount",value:function(){this.props.definition&&this.createComponent()}},{key:"componentWillUnmount",value:function(){var e=this.state.component;e&&(e.emitChange("unmount"),this.state.component.destroy())}},{key:"componentDidUpdate",value:function(e){this.props.definition!==e.definition&&this.createComponent()}},{key:"render",value:function(){var e=this.props,t=(e.definition,e.component),n=Object(Q.a)(e,["definition","component"]),a=t;return t||(a=this.state.component),a&&a.get("hidden")?null:c.a.createElement(pn,Object.assign({component:a},n))}}]),n}(c.a.PureComponent),mn=G(["hidden"])(dn),hn=n(350),fn=n(768),bn=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleClose=function(t,n){"clickaway"!==n&&e.props.onClose&&e.props.onClose()},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.message,a=e.open;return c.a.createElement(fn.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:a,autoHideDuration:6e3,onClose:this.handleClose,ContentProps:{"aria-describedby":"message-id"},message:c.a.createElement("span",{id:"message-id"},n),action:[c.a.createElement(O.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:this.handleClose},c.a.createElement(w,{icon:"Close"}))]})}}]),n}(c.a.PureComponent),vn=g()((function(e){return{close:{padding:e.spacing(.5)}}}))(bn),gn=n(39),yn=n.n(gn),Cn=n(123),En=n.n(Cn),kn=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={mobileOpen:!1,menuItem:null,snackbarOpen:!1,snackbarMessage:"",confirmationOpen:!1,nextMenuItem:null,showArchivedToggle:!1,searchStringInput:"",showSearch:!1,showSearchOnMobile:!1},a.form=null,a.path=null,a.onNavigate=function(e){var t=a.state.menuItem;t&&t.content.has("dirty")&&t.content.get("dirty")&&!t.fullScreen?xt.a.displayConfirmation({title:"Discard changes?",callback:e}):e(!0)},a.handleDrawerToggle=function(){a.setState({mobileOpen:!a.state.mobileOpen})},a.handleNavigate=function(){var e=Object(r.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.content instanceof yn.a)){e.next=5;break}return e.next=3,t.content.run();case 3:e.next=6;break;case 5:a.props.history.push(t.path);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.handleConfirmationClose=function(){var e=Object(r.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=a.props.confirmation).callback&&t&&n.callback(t),a.setState({confirmationOpen:!1});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.switchContent=function(){var e=Object(r.a)(l.a.mark((function e(t,n){var o,r,i,c,s,u,p,d,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===a.state.menuItem){e.next=22;break}if(a.component&&a.component.emitUnload(),o=t&&t.content instanceof yn.a,!t||!t.content){e.next=21;break}if(r=a.props,i=r.location,c=r.component,s=c.get("menu"),xt.a.set({route:s.toRoute({parameters:n,queryString:i.search.substr(1),hash:i.hash.substr(1)})}),u=s.getParent(t.path),!a.requireAccess(t.roles)||u&&!a.requireAccess(u.roles)){e.next=19;break}if(!o){e.next=14;break}return e.next=12,t.content.run();case 12:e.next=19;break;case 14:a.component=t.content,a.component.emitLoad(),p=a.canArchive(),d=p.canArchive,m=p.canSearch,xt.a.set({searchString:null}),a.setState({menuItem:t,showArchived:!1,showArchivedToggle:d,searchStringInput:"",showSearch:m});case 19:e.next=22;break;case 21:a.component=null;case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.onLocation=function(e){xt.a.set({path:e.pathname})},a.handleSnackbarClose=function(){a.setState({snackbarOpen:!1})},a.handleArchivedChange=function(e){a.setState({showArchived:e.target.checked});var t=a.state.menuItem;t&&(t.content.set({showArchived:e.target.checked}),window.scrollTo({top:0}))},a.handleSearchStringInputChange=function(e){a.setState({searchStringInput:e})},a.handleSearch=function(e){a.setState({searchStringInput:e},(function(){xt.a.set({searchString:e||null})}))},a.toggleShowSearch=function(){a.setState({showSearchOnMobile:!a.state.showSearchOnMobile})},a.setGlobalOnNavigate(),a}return Object(d.a)(n,[{key:"setGlobalOnNavigate",value:function(){xt.a.setOnNavigate(this.onNavigate)}},{key:"redirect",value:function(e){var t=this.props.history;xt.a.set({redirectPath:null}),t.push(e)}},{key:"navigateTo",value:function(e){var t=this.state.menuItem,n=this.props.component.get("menu");if(!t||e!==t.path){var a=n.getItemAndParsePath(e);return this.switchContent(a.item,a.params)}}},{key:"canArchive",value:function(){var e=!1,t=!1;if(this.component&&this.component instanceof En.a){var n,a=Object(f.a)(this.component.getFields());try{for(a.s();!(n=a.n()).done;){var o=n.value;o instanceof lt.a&&(e=!o.get("forbidViewArchived")&&qe.a.canArchive(o.get("form")),t=!o.get("forbidSearch"))}}catch(l){a.e(l)}finally{a.f()}}return{canArchive:e,canSearch:t}}},{key:"emitLoggedOut",value:function(){xt.a.set({redirectAfterLogin:this.props.location.pathname}),this.props.component.emitLoggedOut()}},{key:"requireAccess",value:function(e){var t=!e||W.a.client&&W.a.client.user.hasRole(e);return t||this.emitLoggedOut(),t}},{key:"componentDidUpdate",value:function(e){var t=xt.a.get("snackbarMessage");if(t&&(this.displaySnackbar(t),xt.a.set({snackbarMessage:null})),this.props.redirectPath&&this.props.redirectPath!==e.redirectPath&&this.redirect(this.props.redirectPath),this.props.path!==e.path&&this.navigateTo(this.props.path),this.props.confirmation!==e.confirmation&&this.setState({confirmationOpen:!0}),this.props.searchString!==e.searchString){var n=this.state.menuItem;n&&n.content.has("searchString")&&n.content.set({searchString:this.props.searchString})}}},{key:"componentDidMount",value:function(){var e=this;this.unlisten=this.props.history.listen(this.onLocation),W.a.client&&W.a.client.user.awaitSession(),this.onLocation(this.props.location),window.addEventListener("scroll",(function(t){e.state.menuItem&&e.state.menuItem.content.emit("scroll",t)})),this.props.redirectPath&&this.redirect(this.props.redirectPath)}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"displaySnackbar",value:function(e){this.setState({snackbarOpen:!0,snackbarMessage:e})}},{key:"archivedToggle",value:function(){var e=this.state,t=e.showArchived,n=!!t,a=null;return e.showArchivedToggle&&(a=c.a.createElement(C.a,{title:t?"Show Active":"Show Deleted"},c.a.createElement(le.a,{onChange:this.handleArchivedChange,checked:n}))),a}},{key:"searchBox",value:function(e){var t=this.props.classes,n=this.state,a=n.searchStringInput,o=null;return n.showSearch&&(o=c.a.createElement(_,{fullWidth:e,className:t.alignRight,searchString:a,onChange:this.handleSearchStringInputChange,onSearch:this.handleSearch})),o}},{key:"menuButton",value:function(){var e=this.props.classes,t=this.isResponsive();return c.a.createElement(O.a,{color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerToggle,className:t?e.navIconHide:""},c.a.createElement(w,{icon:"Menu"}))}},{key:"title",value:function(){var e=this.state.menuItem;return c.a.createElement(k.a,{variant:"h6",color:"inherit",noWrap:!0},e?e.label:"")}},{key:"appBar",value:function(){var e=this.props,t=e.classes,n=e.width,a=this.state.showSearchOnMobile,o=Object(hn.b)("sm",n),l=this.isResponsive(),r=null;return r=o?a?c.a.createElement(c.a.Fragment,null,c.a.createElement(O.a,{color:"inherit","aria-label":"close search",onClick:this.toggleShowSearch},c.a.createElement(w,{icon:"ArrowBack"})),this.searchBox(!0)):c.a.createElement(c.a.Fragment,null,this.menuButton(),this.title(),this.archivedToggle(),c.a.createElement(O.a,{color:"inherit","aria-label":"toggle search",onClick:this.toggleShowSearch,className:t.alignRight},c.a.createElement(w,{icon:"Search"}))):c.a.createElement(c.a.Fragment,null,this.menuButton(),this.title(),this.archivedToggle(),this.searchBox()),c.a.createElement(y.a,{elevation:1,className:t.appBar+(l?" ".concat(t.appBarResponsive):"")},c.a.createElement(E.a,null,r))}},{key:"isResponsive",value:function(){return!this.props.menuAlwaysTemporary}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.component,a=e.confirmation,o=this.state,l=o.mobileOpen,r=o.menuItem,i=o.snackbarOpen,s=o.snackbarMessage,u=o.confirmationOpen,p=this.isResponsive(),d=n.get("menu"),m=this.props.location.pathname,h=this.component?c.a.createElement(mn,{component:this.component}):null,f=this.appBar(),b=c.a.createElement(K,{component:d,onDrawerToggle:this.handleDrawerToggle,mobileOpen:l,onNavigate:this.handleNavigate,path:m,responsive:p}),v=null;return r&&r.fullScreen&&(v={marginLeft:0,marginTop:0}),c.a.createElement("div",{className:t.root},c.a.createElement("div",{className:t.appFrame},r&&r.fullScreen?null:f,r&&r.fullScreen?null:b,c.a.createElement("main",{className:t.content+(p?" ".concat(t.contentResponsive):""),style:v},c.a.createElement(Y.d,null,c.a.createElement(Y.b,null)),h,c.a.createElement(vn,{open:i,message:s,onClose:this.handleSnackbarClose}),c.a.createElement(ut,{open:u,onClose:this.handleConfirmationClose,title:a?a.title:null,text:a?a.text:null,alert:a?a.alert:null}))))}}]),n}(c.a.PureComponent);kn=g()((function(e){var t;return{root:{width:"100%",zIndex:1,overflow:"hidden"},appFrame:{position:"relative",display:"flex",width:"100%",height:"100%"},appBar:{position:"fixed",marginLeft:240},appBarResponsive:Object(b.a)({},e.breakpoints.up("md"),{width:"calc(100% - ".concat(240,"px)")}),navIconHide:Object(b.a)({},e.breakpoints.up("md"),{display:"none"}),content:(t={backgroundColor:e.palette.background.default,width:"100%",padding:e.spacing(3),height:"calc(100% - 56px)",marginTop:56},Object(b.a)(t,e.breakpoints.up("sm"),{height:"calc(100% - 64px)",marginTop:64}),Object(b.a)(t,"overflowAnchor","none"),t),contentResponsive:Object(b.a)({},e.breakpoints.up("md"),{marginLeft:240}),alignRight:{marginLeft:"auto"}}}),{withTheme:!0})(kn),kn=Object(hn.a)()(kn),kn=Object(Y.g)(kn),kn=G(["menuAlwaysTemporary"])(kn);var On=kn=G(["path","redirectPath","snackbarMessage","confirmation","searchString"],xt.a)(kn),Fn=n(762),jn=n(338),Sn=n.n(jn),wn=n(239),xn=n.n(wn),Dn=n(336),Nn=n.n(Dn),Ln=n(337),Tn=n.n(Ln),An=n(243),Pn=xn()({palette:{primary:Nn.a,secondary:Tn.a},typography:{useNextVariants:!0}}),In=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).onNavigate=function(e,t){xt.a.onNavigate(e,t)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.basename;return c.a.createElement(Sn.a,{theme:Pn},c.a.createElement(Fn.a,null),c.a.createElement(An.a,{getUserConfirmation:this.onNavigate,basename:n},c.a.createElement("div",null,c.a.createElement(On,{component:t}),c.a.createElement(Y.a,{message:"foo"}))))}}]),n}(c.a.Component),Bn=G(["basename"])(In),Vn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Mn(){if("serviceWorker"in navigator){if(new URL("/mson-react",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/mson-react","/service-worker.js");Vn?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Wn(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Wn(e)}))}}function Wn(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Un=function(){var e=Object(r.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!W.a.client){e.next=3;break}return e.next=3,W.a.client.user.awaitSession();case 3:u.a.render(c.a.createElement(Bn,{component:t}),document.getElementById("root")),Mn();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rn=(n(697),{name:"app.App",component:"App",basename:"/mson-react",menu:{component:"Menu",items:[{path:"/",label:"Home",content:{component:"app.Home"}},{path:"/fields",label:"Fields",content:{component:"app.FieldsScreen"}},{path:"/contacts",label:"Contacts",items:[{path:"/contacts",label:"Contacts LocalStorage",content:{component:"app.ContactsLocalStorage"}},{path:"/contacts-firebase",label:"Contacts Firebase",content:{component:"app.ContactsFirebase"}}]},{path:"/tasks",label:"Tasks",items:[{path:"/tasks",label:"Tasks LocalStorage",content:{component:"app.TasksLocalStorage"}},{path:"/tasks-firebase",label:"Tasks Firebase",content:{component:"app.TasksFirebase"}}]},{path:"/form-builder",label:"Form Builder",content:{component:"app.FormBuilder"}},{path:"/contact/edit",label:"Edit Contact",content:{component:"app.EditContact"}},{path:"/contact-no-mson",label:"Contact No MSON",content:{component:"app.ContactNoMSON"}},{path:"/grid",label:"Grid",content:{component:"app.Grid"}}]}}),qn=n(105),Hn=n(342),Gn=n(110),zn=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"_create",value:function(e){var t=this;Object(Hn.a)(Object(qn.a)(n.prototype),"_create",this).call(this,e),this.set({fields:[new Gn.TextField({name:"firstName",label:"First Name",required:!0,block:!1}),new Gn.TextField({name:"lastName",label:"Last Name",required:!0}),new Gn.EmailField({name:"email",label:"Email"}),new Gn.ButtonField({name:"import",label:"Import",icon:"ImportContacts"}),new Gn.ButtonField({name:"submit",label:"Submit",type:"submit",icon:"Save"}),new Gn.ButtonField({name:"cancel",label:"Cancel",icon:"Cancel"})]}),this.on("import",(function(){t.setValues({firstName:"Prince",lastName:"Nelson",email:"prince@example.com"})})),this.on("submit",(function(){var e=t.getValues();console.log("submitting",e),xt.a.displaySnackbar("Submitted ".concat(e.firstName," ").concat(e.lastName))})),this.on("cancel",(function(){xt.a.redirect("/")}))}}]),n}(En.a);sn.a.registerComponent("app.ContactNoMSON",zn);var Kn={name:"app.Contacts",component:"Form",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"CollectionField",name:"contacts",label:"Contacts",hideLabel:!0,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0,block:!1},{name:"lastName",component:"TextField",label:"Last Name"},{name:"email",component:"EmailField",label:"Email"}]}},store:"{{store}}"}]},$n={name:"app.ContactsLocalStorage",component:"app.Contacts",store:{component:"LocalStorageStore",storeName:"contactsLocalStorage"}},Xn={name:"app.ContactsFirebase",component:"app.Contacts",store:{component:"FirebaseStore",apiKey:"AIzaSyCJfqjdBBrXtwkXla6uMX3LZGOLDAgTEx0",authDomain:"mson-contacts.firebaseapp.com",projectId:"mson-contacts",collection:"contacts"}},Jn={name:"app.EditContact",component:"RecordEditor",baseForm:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0,block:!1},{name:"lastName",component:"TextField",label:"Last Name"},{name:"email",component:"EmailField",label:"Email"}],listeners:[{event:"load",actions:[{component:"Set",name:"fields.id.value",value:"1"}]}]},label:"Contact",store:{component:"LocalStorageStore",storeName:"contactLocalStorage"},storeWhere:{id:"1"}},Zn={name:"app.FieldsScreen",component:"app.Fields",fields:[{name:"import",component:"ButtonField",label:"Import",icon:"ImportContacts"},{name:"reset",component:"ButtonField",label:"Reset",icon:"ClearAll"},{name:"toggleDisplayValues",component:"ButtonField",label:"Show Display Values",icon:"ViewHeadline"},{name:"toggleEditable",component:"ButtonField",label:"Immutable",icon:"NotInterested"},{name:"toggleDisabled",component:"ButtonField",label:"Disable",icon:"Lock"},{name:"toggleFullWidth",component:"ButtonField",label:"Full Width",icon:"FormatAlignJustify"},{name:"log",component:"ButtonField",label:"Log Values",icon:"MoveToInbox"}],listeners:[{event:"import",actions:[{component:"Set",name:"component",value:{"fields.addressField.value":{addressLine1:"121 Pike Street",addressLine2:"Suite 201",city:"Seatte",stateProvince:"WA",postalCode:"98107",country:"US"},"fields.booleanField.value":!0,"fields.chainedSelectField.value":[2,5,9,10],"fields.chainedSelectListField.value":[[1,3,7],[2,5,9,10]],"fields.cityField.value":"Seattle","fields.collectionField.value":[{id:"daenerys",firstName:"Daenerys",lastName:"Targaryen"},{id:"jon",firstName:"Jon",lastName:"Snow"},{id:"tyrion",firstName:"Tyrion",lastName:"Lannister"}],"fields.countryField.value":"US","fields.dateField.value":"2018-09-27T17:24:24.960Z","fields.emailField.value":"test@example.com","fields.formField.value":{github:"github.com/redgeoff",medium:"medium.com/@redgeoff",twitter:"twitter.com/redgeoff7"},"fields.idField.value":"id-123","fields.integerField.value":123,"fields.listFieldEmail.value":["test1@example.com","test2@example.com"],"fields.listFieldName.value":[{firstName:"Ella",lastName:"Fitzgerald"},{firstName:"Ray",lastName:"Charles"}],"fields.moneyField.value":1000000.11,"fields.numberField.value":123.4,"fields.passwordField.value":"password123","fields.personFullNameField.value":{firstName:"Daenerys",lastName:"Targaryen"},"fields.personNameField.value":"Daenerys","fields.phoneField.value":"6461234567","fields.postalCodeField.value":"98107","fields.provinceField.value":"British Columbia","fields.selectField.value":"red","fields.selectFieldMult.value":["red","blue"],"fields.selectListField.value":["red","green"],"fields.stateField.value":"WA","fields.timeField.value":"2018-09-27T17:24:24.960Z","fields.textField.value":"Go MSON","fields.textListField.value":["MSON","React","Material-UI"],"fields.urlField.value":"mson.co"}}]},{event:"reset",actions:[{component:"Set",name:"reset",value:!0}]},{event:"toggleDisplayValues",actions:[{component:"Action",if:{"fields.id.useDisplayValue":{$ne:!0}},actions:[{component:"Set",name:"component",value:{eachField:{useDisplayValue:!0},"fields.toggleDisplayValues":{label:"Hide Display Values",icon:"Input"}}}],else:[{component:"Set",name:"component",value:{eachField:{useDisplayValue:!1},"fields.toggleDisplayValues":{label:"Show Display Values",icon:"ViewHeadline"}}}]}]},{event:"toggleEditable",actions:[{component:"Action",if:{"fields.id.editable":{$ne:!0}},actions:[{component:"Set",name:"component",value:{editable:!0,"fields.toggleEditable":{label:"Immutable",icon:"NotInterested"}}}],else:[{component:"Set",name:"component",value:{editable:!1,"fields.toggleEditable":{label:"Editable",icon:"Edit"}}}]}]},{event:"toggleDisabled",actions:[{component:"Action",if:{"fields.id.disabled":{$ne:!0}},actions:[{component:"Set",name:"component",value:{disabled:!0,"fields.toggleDisabled":{label:"Enable",icon:"LockOpen"}}},{component:"Set",name:"fields.toggleDisabled.disabled",value:!1}],else:[{component:"Set",name:"component",value:{disabled:!1,"fields.toggleDisabled":{label:"Disable",icon:"Lock"}}}]}]},{event:"toggleFullWidth",actions:[{component:"Action",if:{"fields.id.fullWidth":{$ne:!0}},actions:[{component:"Set",name:"component",value:{fullWidth:!0,"fields.toggleFullWidth":{label:"Flex Width",icon:"FormatAlignLeft"}}}],else:[{component:"Set",name:"component",value:{fullWidth:!1,"fields.toggleFullWidth":{label:"Full Width",icon:"FormatAlignLeft"}}}]}]},{event:"log",actions:[{component:"ConsoleLog",message:"{{value}}"}]}]},_n=[{value:1,parentValue:null,label:"Germany"},{value:2,parentValue:null,label:"USA"},{value:3,parentValue:1,label:"BMW"},{value:4,parentValue:1,label:"Mercedes"},{value:5,parentValue:2,label:"Tesla"},{value:6,parentValue:3,label:"i3"},{value:7,parentValue:3,label:"i8"},{value:8,parentValue:4,label:"S-Class"},{value:9,parentValue:5,label:"Model S"},{value:10,parentValue:9,label:"Red"},{value:11,parentValue:9,label:"Blue"}],Yn={name:"app.Fields",component:"Form",fields:[{component:"AddressField",name:"addressField",label:"AddressField",help:"Example help",required:!0,elevate:!1},{component:"BooleanField",name:"booleanField",label:"BooleanField",help:"Example help"},{name:"buttonField",component:"ButtonField",label:"ButtonField",icon:"Save",type:"submit",block:!0},{component:"ChainedSelectField",name:"chainedSelectField",label:"ChainedSel",help:"Example help",required:!0,blankString:"None",options:_n},{component:"ChainedSelectListField",name:"chainedSelectListField",label:"ChainSelList",help:"Example help",required:!0,blankString:"None",options:_n},{name:"cityField",component:"CityField",label:"CityField",help:"Example help",required:!0},{component:"CollectionField",name:"collectionField",label:"Records",help:"Example help",required:!0,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"firstName",component:"TextField",label:"First Name",required:!0},{name:"lastName",component:"TextField",label:"Last Name"}]}}},{name:"countryField",component:"CountryField",label:"CountryField",help:"Example help",blankString:"None",required:!0},{name:"dateField",component:"DateField",label:"DateField",help:"Example help",minDate:"2018-01-01T23:07:28.157Z",maxDate:"2022-01-01T23:07:28.157Z",required:!0},{component:"EmailField",name:"emailField",label:"Email",help:"Example help",required:!0},{component:"FormField",name:"formField",label:"FormField",help:"Example help",required:!0,form:{component:"Form",fields:[{name:"github",component:"URLField",block:!1,label:"GitHub"},{name:"medium",component:"URLField",label:"Medium"},{name:"twitter",component:"URLField",label:"Twitter"}]}},{name:"idField",component:"IdField",label:"IdField",help:"Example help",required:!0},{name:"integerField",component:"IntegerField",label:"IntegerField",help:"Example help",required:!0},{component:"ListField",name:"listFieldEmail",label:"ListField Email",singularLabel:"Email",help:"Example help",required:!0,fieldFactory:{component:"Factory",product:{component:"EmailField"}}},{component:"ListField",name:"listFieldName",label:"ListField Name",singularLabel:"Name",help:"Example help",required:!0,fieldFactory:{component:"Factory",product:{component:"PersonFullNameField"}}},{name:"moneyField",component:"MoneyField",label:"MoneyField",help:"Example help",required:!0},{name:"numberField",component:"NumberField",label:"NumberField",help:"Example help",required:!0},{name:"passwordField",component:"PasswordField",label:"PasswordField",help:"Example help",required:!0},{name:"personFullNameField",component:"PersonFullNameField",label:"PersonFullNameField",help:"Example help",required:!0},{name:"personNameField",component:"PersonNameField",label:"PersonNameField",help:"Example help",required:!0},{name:"phoneField",component:"PhoneField",label:"PhoneField",help:"Example help",required:!0},{name:"postalCodeField",component:"PostalCodeField",label:"PostalCodeField",help:"Example help",required:!0},{name:"provinceField",component:"ProvinceField",label:"ProvinceField",help:"Example help",required:!0},{component:"ReCAPTCHAField"},{name:"selectField",component:"SelectField",label:"SelectField",help:"Example help",required:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"selectFieldMult",component:"SelectField",label:"SelFld (mult)",help:"Example help",required:!0,multiple:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"selectListField",component:"SelectListField",label:"SelListField",help:"Example help",required:!0,blankString:"None",options:[{value:"red",label:"Red"},{value:"green",label:"Green"},{value:"blue",label:"Blue"}]},{name:"stateField",component:"StateField",label:"StateField",help:"Example help",blankString:"None",required:!0},{name:"text",component:"Text",text:"# Text\nCan contain any [markdown](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet)"},{name:"timeField",component:"TimeField",label:"TimeField",help:"Example help",required:!0},{name:"textField",component:"TextField",label:"TextField",help:"Example help",required:!0},{name:"textListField",component:"TextListField",label:"TextListField",help:"Example help",singularLabel:"Text Item",required:!0},{name:"urlField",component:"URLField",label:"URLField",help:"Example help",required:!0}]},Qn={name:"app.FormBuilder",component:"FormBuilder","fields.form.form.fields.fields.store":{component:"LocalStorageStore",storeName:"myForm"}},ea={name:"app.Grid",component:"Grid",items:[{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# A"}},{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# B"}},{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# C"}},{component:"GridItem",md:6,xs:12,content:{component:"Text",text:"# D"}},{component:"GridItem",md:6,xs:12,content:{name:"toggleA",component:"ButtonField",label:"Toggle A",listeners:[{event:"click",actions:[{component:"Action",if:{"parent.parent.items.0.hidden":!0},actions:[{component:"Set",name:"parent.parent.items.0.hidden",value:!1}],else:[{component:"Set",name:"parent.parent.items.0.hidden",value:!0}]}]}]}}]},ta={name:"app.Home",component:"Text",text:"# Welcome\nCheck out the examples on the left"},na={name:"app.Tasks",component:"Form",schema:{component:"Form",fields:[{name:"store",component:"Field"}]},fields:[{component:"Text",name:"header",text:"(drag to reorder)"},{component:"CollectionField",name:"tasks",label:"Tasks",hideLabel:!0,forbidOrder:!1,formFactory:{component:"Factory",product:{component:"Form",fields:[{name:"task",component:"TextField",label:"Task",multiline:!0,required:!0},{name:"due",component:"DateField",label:"Due"}]}},store:"{{store}}"}]},aa={name:"app.TasksLocalStorage",component:"app.Tasks",store:{component:"LocalStorageStore",storeName:"tasksLocalStorage"}},oa={name:"app.TasksFirebase",component:"app.Tasks",store:{component:"FirebaseStore",apiKey:"AIzaSyCJfqjdBBrXtwkXla6uMX3LZGOLDAgTEx0",authDomain:"mson-contacts.firebaseapp.com",projectId:"mson-contacts",collection:"tasks"}},la=n(244),ra=n.n(la),ia=n(763),ca=n(764),sa=n(184),ua=n.n(sa),pa=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={field:null},e.handleValueChange=function(t){var n=e.props.component,a=e.state.field,o=null;if(!a||t.componentName!==a.getClassName())if(a&&a.destroy(),t.componentName){o=sn.a.newComponent({component:t.componentName});var l=function(){a.clearErr(),a.validate()};(a=o.isField?o:new ua.a({content:o})).on("value",l),a.on("touched",l)}else a=null;if(a){var r=n.getValues({default:!1});o="ComponentField"===a.getClassName()?a.get("content"):a,V()(r,(function(e,t){o.has(t)&&o.set(Object(b.a)({},t,e))}))}e.setState({field:a})},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.component.on("value",this.handleValueChange),this.handleValueChange(this.props.component.getValues())}},{key:"componentWillUnmount",value:function(){this.props.component.removeListener("value",this.handleValueChange)}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.classes,a=e.formTag,o=e.mode,l=this.state.field,r=null;return l&&"read"!==o&&(r=c.a.createElement(ia.a,{className:n.card},c.a.createElement(ca.a,null,c.a.createElement(k.a,{color:"textSecondary",gutterBottom:!0},"Preview"),c.a.createElement(Te,{component:l})))),"read"!==o?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:n.preview},r),c.a.createElement("div",{className:n.form},c.a.createElement(Ge,{component:t,formTag:a,mode:o}))):l?c.a.createElement(Te,{component:l,disabled:!0}):null}}]),n}(c.a.PureComponent);pa=g()((function(e){return{form:{overflowY:"scroll",maxHeight:"calc(100vh - 390px)",marginTop:e.spacing(3)}}}))(pa);var da=pa=G(["mode"])(pa),ma=n(245),ha=n.n(ma),fa=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.editable,n=e.component;if(!1!==t)return c.a.createElement(Ge,this.props);var a=n.get("definition");return c.a.createElement(mn,{definition:a,formTag:!1})}}]),n}(c.a.Component),ba=fa=G(["editable"])(fa),va=n(339),ga=n.n(va);for(var ya in xt.a.set({reCAPTCHASiteKey:"6LdIbGMUAAAAAJnipR9t-SnWzCbn0ZX2myXBIauh"}),sn.a.registerComponent("FieldEditorForm",ra.a),rn.FieldEditorForm=da,sn.a.registerComponent("FormEditor",ha.a),rn.FormEditor=ba,sn.a.registerComponent("FormBuilder",ga.a),a){var Ca=a[ya];sn.a.registerComponent(ya,Ca)}Un(sn.a.newComponent({component:"app.App"}))}},[[373,1,2]]]);
//# sourceMappingURL=main.2be8c28f.chunk.js.map